
/*
13.Анализ Креативности Текста.
Подсчитать количество слов и букв в строке. Слово - это последовательность
 символов, разделенных одним или несколькими символами-разделителями.
 Буква - это символ, не являющийся разеделителем.
Разделители слов: пробел, табуляция, перевод каретки, знаки препинания.
 Полный список: "",.!?:;()""
Нельзя использовать для разбора строки класс StringTokenizer, String.split(),
 substring() и подобные им.
В программе нельзя использовать вложенные циклы. Так же не рекомендуется
 использовать метод String.indexOf().
Программа не должна создавать дополнительные строки сравнимого размера с
введенной строкой.
Программа должна проходить тест на следующих данных:
1) "" xxx, xx x x""
2) ""xxxxxxx""
3) ""xxxxxxx. ""
4) ""xxx,xxxx""
5) ""xxx,xxxx""
6) ""........""
7) ""... xxx... ""
8) """" - пустая строка"

 */
public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);

    System.out.println("=== Программа подсчета слов и букв в строке ===");
    System.out.println("Разделители слов: пробел, табуляция, перевод каретки, знаки препинания");
    System.out.println("Разделители: \" , . ! ? : ; ( ) \"");
    System.out.println();
    System.out.print("Введите строку: ");

    String input = scanner.nextLine();

    // Подсчет слов и букв
    int wordCount = countWords(input);
    int letterCount = countLetters(input);

    // Вывод результатов
    System.out.println();
    System.out.println("=== Результаты ===");
    System.out.println("Введенная строка: \"" + input + "\"");
    System.out.println("Количество слов: " + wordCount);
    System.out.println("Количество букв: " + letterCount);

    scanner.close();
}

// Метод для проверки, является ли символ разделителем
private static boolean isDelimiter(char ch) {
    // Разделители: пробел, табуляция, перевод каретки, знаки препинания
    // Полный список: пробел, запятая, точка, восклицательный знак,
    // вопросительный знак, двоеточие, точка с запятой, скобки, кавычки
    return ch == ' ' ||           // пробел
            ch == '\t' ||          // табуляция
            ch == '\n' ||          // перевод строки (новая строка)
            ch == '\r' ||          // возврат каретки
            ch == ',' ||           // запятая
            ch == '.' ||           // точка
            ch == '!' ||           // восклицательный знак
            ch == '?' ||           // вопросительный знак
            ch == ':' ||           // двоеточие
            ch == ';' ||           // точка с запятой
            ch == '(' ||           // открывающая скобка
            ch == ')' ||           // закрывающая скобка
            ch == '"';             // двойная кавычка
}

// Метод для подсчета количества слов в строке
public static int countWords(String str) {
    if (str == null || str.trim().isEmpty()) {
        return 0;
    }

    int count = 0;
    boolean inWord = false;

    // Перебираем все символы в строке
    for (int i = 0; i < str.length(); i++) {
        char ch = str.charAt(i);

        if (isDelimiter(ch)) {
            // Если встретили разделитель, слово закончилось
            if (inWord) {
                inWord = false;
            }
        } else {
            // Если это не разделитель, это часть слова
            if (!inWord) {
                // Началось новое слово
                count++;
                inWord = true;
            }
        }
    }

    return count;
}

// Метод для подсчета количества букв в строке
// Буква - это символ, не являющийся разделителем
public static int countLetters(String str) {
    if (str == null || str.isEmpty()) {
        return 0;
    }

    int count = 0;

    // Перебираем все символы в строке
    for (int i = 0; i < str.length(); i++) {
        char ch = str.charAt(i);

        // Если символ не является разделителем, это буква
        if (!isDelimiter(ch)) {
            count++;
        }
    }

    return count;
}
